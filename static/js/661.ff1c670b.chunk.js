"use strict";(self.webpackChunkgamestore=self.webpackChunkgamestore||[]).push([[661],{2661:function(e,n,r){r.r(n),r.d(n,{default:function(){return m}});var t=r(1413),o=r(2791),s=r(1285),a=r(1085),i=r(184),c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r){var s=r.nextUrl,a=r.fetchGamesOnNeed,c=r.collectionKey;return(0,o.useEffect)((function(){var e=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-50&&setTimeout((function(){a(s,c)}),n)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[s,c,a]),(0,i.jsx)(e,(0,t.Z)({},r))}},l=r(6916),u=r(5887),f=r(5164),g=(0,l.P1)(u.m7,u.mN,(function(e){var n=function(e,n){if(e){if("search"===e)return[f.Ej,n].join("|");if("tags"===e)return[f.ap,n].join("|");if("genres"===e)return[f.N5,n].join("|")}return[f.H$,"default"].join("|")}((0,u.cP)(e),(0,u.iz)(e)),r=(0,s.ew)(e,n);return(0,t.Z)({collectionKey:n},r)}),(function(e,n,r){var t=e.error,o=e.loading,s=n.search,a=n.pathname,i=r.games,c=r.nextUrl;return{error:t,loading:o,games:i,collectionKey:r.collectionKey,nextUrl:c,gamesUrl:s?a+s:a,genres:f.xG}})),m=(0,r(3531).$j)((function(e){return(0,t.Z)({},g(e))}),{fetchGamesOnStart:s.yc,fetchGamesOnNeed:s.WD})(c((function(e){var n=e.error,r=e.loading,t=e.games,s=e.collectionKey,c=e.gamesUrl,l=e.fetchGamesOnStart,u=e.genres;return(0,o.useEffect)((function(){var e=new AbortController;return l(c,s,e.signal),function(){return e.abort()}}),[c,s,l]),n?(0,i.jsx)(a.jj,{classname:"error",message:n}):(0,i.jsxs)("div",{className:"game-list",style:{width:"100%"},children:[(0,i.jsx)(a.a9,{genres:u,classname:"genre-list"}),(0,i.jsx)(a.HH,{games:t}),(0,i.jsx)(a.aN,{isLoading:r,classname:"loader"})]})})))}}]);
//# sourceMappingURL=661.ff1c670b.chunk.js.map